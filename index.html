<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Python4Pentest</title>
		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
                                        <div align="center">
                               		<img src = "images/PYTHON.png">
                                        </div>

					<div align="center">
					<h2>Python 4 Pentest</h2>
					</div>
                                </section>   

				<section>
                                        <div align="left">
					<h2>Pentest</h2>
                                        </div>
                                        
                                        <div align="center">
                                        <p>Abreviação de Penetration Test, é um método para avaliar a segurança
                                        de um sistema ou rede. simulando um ataque malicioso. Buscando vulnerabilidades,
                                        falhas de configuração, pontos de fragilidade no hardware/software.</p>
                                        <p>Podendo ser adotados testes de caixa preta, onde o pentester não tem conhecimento sobre
                                        sobre a infraestrutura a ser testada, e testes de caixa branca, onde o "atacante" possui
                                        detalhes técnicos sobre a infraestrutura.</p>
				</section>

				<section>
				       	<div align="center">
                               		<img src = "images/ataques.jpg">
					<h3>Ataques</h3>
                                        </div>
				</section>

				<section>
					<div align="center">
					<p>De acrodo com a Open Web Application Security Project (OWASP), os dez riscos mais críticos
					para uma aplicação web em 2017, foram os seguintes.</p>
					<ul>
					    <li>Injeções</li>
                                            <li>Falha de autenticação</li>
					    <li>Cross-site scripting(XSS)</li>
					    <li>Exposição de dados sensíveis</li>
					    <li>Entidades Externas de XML</li>
					    <li>Quebra de controle de autenticação</li>
					    <li>Configuração incorreta de segurança</li>
					    <li>Deserialização insegura</li>
 					</ul>
        			</section>
 				
				<section>
					<div align="center">
					<img src="images/sqlinjection.jpg">
					</div>
				</section>

				<section>
					<h2>SQL Injection</h2>
					<p>É um método onde o atacante pode criar ou alterar comandos SQL, buscando acesso
					ao banco de dados. É mais efetivo em aplicações que que recebem input do usuário, que 
					combinado com alguns parâmetros geram uma query SQL.</p>
			
					<p>Com Python, podemos injetar alguns vetores de ataque na aplicação e analisar a saída
					para descobrir possibilidades de ataque.</p>
					
				</section>


				<section>

					<pre><code>
import mechanize

url = "http://www.webscantest.com/datastore/search_by_id.php"

request = mechanize.Browser()

request.open(url)

request.select_form(nr=0)

request["id"] = "1 OR 1=1"

response = request.submit()

content = response.read()
print content				

					</code></pre>
				</section>


				<section>
					<h2>Checking Headers</h2>
					<pre><code>
import requests

response = requests.get('http://g1.globo.com/pb/paraiba/', timeout=5)

print('####Headers Response####')
for header, value in response.headers.items():
    print(header, '--->',  value)

print('####Header Request####')
for header, value in response.request.headers.items():
    print(header, '--->',  value)
					</code></pre>		
				</section>

				<section>
					<p>G1 Paraíba</p>
					<pre><code>
####Headers response####
via ---> 4.1 CachOS
x-content-type-options ---> nosniff
x-bip ---> 541849223 ah22 41 03
cache-control ---> max-age=15
content-type ---> text/html; charset=utf-8
x-frame-options ---> SAMEORIGIN
age ---> 2
x-varnish ---> 541849223 550873270
vary ---> X-Forwarded-Proto, Accept-Encoding, User-Agent
date ---> Wed, 31 Jan 2018 21:15:04 GMT
<mark>x-xss-protection ---> 1; mode=block</mark>
expires ---> Wed, 31 Jan 2018 21:15:19 GMT
content-encoding ---> gzip
content-length ---> 65878
connection ---> keep-alive
accept-ranges ---> bytes
####Header request####
Accept ---> */*
Accept-Encoding ---> gzip, deflate, compress
User-Agent ---> python-requests/2.2.1 CPython/3.4.3 Linux/3.13.0-24-generic

					</code></pre>		
				</section>

				<section>
					<p>python.org.br</p>
					<pre><code>
expires ---> Wed, 31 Jan 2018 21:23:51 GMT
content-type ---> text/html; charset=utf-8
<mark>server ---> GitHub.com</mark>
date ---> Wed, 31 Jan 2018 21:13:51 GMT
cache-control ---> max-age=600
vary ---> Accept-Encoding
content-encoding ---> gzip
x-github-request-id ---> A585:43CC:12A5358:1A210B1:5A72318F
last-modified ---> Thu, 25 Jan 2018 23:41:14 GMT
access-control-allow-origin ---> *
----Header request----
User-Agent ---> python-requests/2.2.1 CPython/3.4.3 Linux/3.13.0-24-generic
Accept-Encoding ---> gzip, deflate, compress
Accept ---> */*

					</code></pre>
				</section>
					
				<section>
					<h3>BuiltWith</h3>
					<p>pip install builtwith</p>
					<pre><code>
import builtwith
builtwith.parse('https://roadsec.com.br/')
					</code></pre>
					<pre><code>
{'javascript-frameworks': ['jQuery'],
'web-servers': ['Nginx'],
'font-scripts': ['Google Font API']}
					</code></pre>
				</section>
			
				<section>
					<h3>Beautiful Soup</h3>
					<p>Coletando Links</p>
					<pre><code>
from bs4 import BeautifulSoup
import requests

r = requests.get('https://roadsec.com.br/')

data = r.text

soup = BeautifulSoup(data)

for link in soup.find_all('a'):
    print(link.get('href'))
					</code></pre>
				</section>

				<section>
				<pre><code>
/sobre/
/calendario-2018
/joaopessoa2018/
/belem2018/
/fortaleza2018/
/brasilia2018/
/blog-montauk/?author=#show-archive
/blog-montauk/2012/6/11/latest-article#comments-5052176b84aeb45fa5cfcca7
/blog-montauk/?author=#show-archive
/blog-montauk/2012/6/11/latest-article#comments-5052176b84aeb45fa5cfcca7
https://twitter.com/roadsec
http://instagram.com/roadsec
http://www.facebook.com/roadsec
/patrocinio
/rssp17-privacidade-e-termos-de-uso
http://www.roadsec.com.br/conduta
/imprensa
/arquivo
/contato
https://twitter.com/roadsec
http://instagram.com/roadsec
http://www.facebook.com/roadsec
http://flipside.com.br
https://www.latam.com/pt_br/
				</code></pre>
				</section>

				<section>
					<h3>Port Scan</h3>
					<pre><code>
					
import socket

portas = [21, 23, 80, 443, 8080]

for porta in portas:
    cliente = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    cliente.settimeout(0.1)
    codigo = cliente.connect_ex(('127.0.0.1', porta))
    if codigo == 0:
        print(porta, 'OPEN')
				</code></pre>
					
				</section>

				<section>
					<h3>Perguntas</h3>
					<img src='images/question.png' width=200>
					<p>newtonjgaliza@gmail.com</p>
					<p>github.com/newtongaliza</p>
					<br/>
					<h3>print('Muito Obrigado')</h3>
				</section>



<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>
<script>
  Reveal.initialize();
</script>

	</body>
</html>
